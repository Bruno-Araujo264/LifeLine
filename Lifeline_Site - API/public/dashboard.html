<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="icon" href="imgs/caderno.png">
    <script src="js/dashboard.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <title>LifeLine</title>
</head>
<body>
<audio id="paginaVirando" src="audio/page-flip1-178322.mp3"></audio>


<div class="livroLer" onclick="window.location.href='ler.html'">
    <h1>Ler Registros</h1>
</div>
    <!-- Botão voltar -->
     <button id="voltar" onclick="paginaVirando.play()">
        <i class="seta-esquerda">&larr;</i>
     </button>


    <!-- Livro -->
     <div id="livro" class="livro">
        <!-- pagina1/2 -->
         <div id="p1" class="papel">
            <div class="frente">
                <div id="f1" class="conteudo-frente">
                    <header>Lifeline</header>
                    <h1>Estatísticas</h1>
                    <footer>
                        Feito por Bruno Araújo
                    </footer>
                </div>
            </div>
            <div class="verso">
                <div id="v1" class="conteudo-verso">
                    <h1>Bem vindo,<span id="nomeUsuario"></span></h1>
                    <span>
                        Aqui você encontrará uma dashboard com gráficos e indicadores
                        que te ajudarão a ver quantidade de registros que você realizou ultimamente e a entender mais sobre suas emoções.
                    </span>
                    <center>
                        <b>Registros por dia</b>
                    </center>
                    <canvas id="graficoLinhaRegistrosDia"></canvas>
                </div>
            </div>
         </div>
         <!-- pagina3/4 -->
         <div id="p2" class="papel">
            <div class="frente">
                <div id="f2" class="conteudo-frente">
                    <canvas id="graficoPizzaQtdEmocoes"></canvas>
                </div>
            </div>
            <div class="verso">
                <div id="v2" class="conteudo-verso">
                    <h1>Emoção mais predominante no seu livro</h1>
                    <div class="emocaoPredominante">
                        <img src="imgs/feliz.png" id="feliz" class="emoji" draggable="false" onclick="escolherEmocao('feliz')">
                        <span>Felicidade</span>
                    </div>
                    <h1>Emoção menos predominante no seu livro</h1>
                    <div class="emocaoMenosPredominante">
                        <img src="imgs/bravo.png" id="raiva" class="emoji" draggable="false" onclick="escolherEmocao('raiva')">
                        <span>Raiva</span>
                    </div>
                </div>
            </div>
        </div>
        <div id="p3" class="papel">
            <div class="frente">
                <div id="f3" class="conteudo-frente">
                    <canvas id="graficoBarraTopEmocoes"></canvas>
                </div>
            </div>
            <div class="verso">
                <div id="v3" class="conteudo-verso">
                </div>
            </div>
         </div>
    </div>
     <!-- Botão avançar -->
    <button id="avançar" onclick="paginaVirando.play()">
        <i class="seta-direita">&rarr;</i>
     </button>

     <div class="livroRegistros" onclick="window.location.href='registros.html'">
        <h1>Escrever Registros</h1>
    </div>

</body>
</html>
<script>
    nomeUsuario.innerHTML = sessionStorage.NOME_USUARIO
    
    const graficoRegistros = graficoLinhaRegistrosDia

    new Chart(graficoRegistros, {
    type: 'line',
    
    data: {
        labels: ['20/11','21/11','22/11','23/11','24/11','25/11','26/11'],
        datasets: [{
        label: 'Registros',
        data: [2,1,5,7,3,5,0],
        borderWidth: 1
        }]
        
    },
    options: {
        
        scales: {
        y: {
            beginAtZero: true,
            ticks: {
                    color: 'black',
                    font: {
                        size: 14 
                    }
                }
        },
        x:{
            ticks: {
                    color: 'black',
                    font: {
                        size: 14 
                    }
                }
        }
        },
        
    }
    });

    const graficoEmocoes = graficoPizzaQtdEmocoes 

    new Chart(graficoEmocoes, {
        type: 'pie',

        data: {
            labels: ['Feliz', 'Triste', 'Raiva', 'Surpreso', 'Medo'],
            datasets: [{
            label: 'Quantidade',
            data: [2,3,4,5,6],
            backgroundColor: ['yellow','lightblue',"red","plum","gainsboro"]
        }]
        },

        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'top',
            },
            title: {
              display: true,
              text: 'Todas as emoções'
            }
          },
        },
    });
    const graficoTopEmocoes = graficoBarraTopEmocoes 

new Chart(graficoTopEmocoes, {
    type: 'bar',

    data: {
            labels: ['Feliz', 'Triste', 'Raiva'],
            datasets: [{
            data: [5,3,2],
            backgroundColor: ['yellow','lightblue',"red"],
        }]
        },

    options: {
      responsive: true,
      plugins: {
        legend: {
          display: false
        },
        title: {
          display: true,
          text: 'Top 3 emoções',
          color: 'black'
        }
      },
      scales:{
        x:{
            ticks: {
                    color: 'black',
                    font: {
                        size: 14 
                    }
                }
        },
        y:{
            ticks: {
                    color: 'black',
                    font: {
                        size: 14 
                    }
                }
        }
      }
    },
})



</script>